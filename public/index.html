<html>
    <head>
      <link rel="stylesheet" type="text/css" href="indexStyles.css">
      <script src="https://cdn.socket.io/4.3.2/socket.io.min.js"></script> 
    </head>
    <body>
      <header>
        <h1>Colour Changer Race</h1>
        <h2>Decide who will be RED or BLUE. Click start and start racing!</h2>
      </header>
      
      <div class="container">
        <p>Waiting for both players to press Start...</p>
        <button id="startButton" onclick="startGame()">Start</button>
       
      </div>
      <img src="Assets/loading.gif" id="loading" alt="loading">
      <footer>
        <ul class="nav-links">
          
          <li><a href="/game.html">Game</a></li>
          <li><a href="/bluewinner.html">Blue Winner</a></li>
          <li><a href="/redwinner.html">Red Winner</a></li>
        </ul>
      </footer>


    <script src="/socket.io/socket.io.js"></script>
    <script>
       
        const socket = io();
        
    // When both players press Start, redirect to the game page
     socket.on('bothPlayersReady', () => {
      window.location.href = "game.html"; // Redirect to the game page
    });
    
    // Function when the Start button is clicked
    function startGame() {
      socket.emit('playerReady'); // Notify the server that this player is ready
      document.getElementById('startButton').disabled = true; // Disable the button
      document.getElementById('loading').style.display = "block";
      console.log('loading');
    }
          
    </script>
</html>